/**
 * Project Name :- Mineboty
 * Author :- JustaKartik
 * © Copyright 2021-2023 Mineboty
 * Powered By Team Ic
 * Partnered By RudraCloud.com
 */

const mineflayer = require('mineflayer') // eslint-disable-line

/**
 * @param {mineflayer.Bot} bot // to enable intellisense
 */


let bot;
let antiAfkInterval; // Initialize the variable outside the scope of the command listener

module.exports = bot => {
         bot.on('chat', (username, message) => {
        if (message === 'antiafk') {
            if (antiAfkInterval) {
                clearInterval(antiAfkInterval);
                bot.chat('Anti-AFK mode deactivated.');
                antiAfkInterval = null;
            } else {
                bot.chat('Anti-AFK mode activated. Simulating actions...');
                antiAfkInterval = setInterval(simulateActions, 30 * 100); // Simulate actions every 1 seconds
                simulateActions(); // Perform initial actions
            }
        }
    });

    function simulateActions() {
        bot.setControlState('forward', true);
        bot.setControlState('jump', true);
        setTimeout(() => {
            bot.setControlState('forward', false);

        }, 2000); // Move forward for 2 seconds
        
    }
}